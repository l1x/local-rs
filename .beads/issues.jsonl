{"id":"loc-1qq","title":"Add cargo-tarpaulin for test coverage","description":"Integrate cargo-tarpaulin to measure and report test coverage. Add coverage target to mise tasks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T01:12:51.458558+01:00","updated_at":"2025-12-25T01:28:04.713601+01:00","closed_at":"2025-12-25T01:28:04.713601+01:00","close_reason":"Added mise tasks for coverage (coverage, coverage-html). Documented baseline: 25.41% (31/122 lines)"}
{"id":"loc-5e3","title":"Unit Testing \u0026 Testability","description":"Add unit tests to the codebase and refactor components to be more testable. Focus on extracting logic into testable units and achieving good coverage.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-25T00:46:48.716564+01:00","updated_at":"2025-12-25T00:46:48.716564+01:00","dependencies":[{"issue_id":"loc-5e3","depends_on_id":"loc-ehr","type":"blocks","created_at":"2025-12-25T00:47:33.477881+01:00","created_by":"daemon"},{"issue_id":"loc-5e3","depends_on_id":"loc-8go","type":"blocks","created_at":"2025-12-25T00:47:33.593297+01:00","created_by":"daemon"},{"issue_id":"loc-5e3","depends_on_id":"loc-yd3","type":"blocks","created_at":"2025-12-25T00:47:33.702643+01:00","created_by":"daemon"},{"issue_id":"loc-5e3","depends_on_id":"loc-ijs","type":"blocks","created_at":"2025-12-25T00:47:33.81433+01:00","created_by":"daemon"},{"issue_id":"loc-5e3","depends_on_id":"loc-h7t","type":"blocks","created_at":"2025-12-25T00:52:01.102668+01:00","created_by":"daemon"},{"issue_id":"loc-5e3","depends_on_id":"loc-1qq","type":"blocks","created_at":"2025-12-25T01:12:54.966178+01:00","created_by":"daemon"}]}
{"id":"loc-5fw","title":"Dependency Optimization","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-25T00:33:44.976041+01:00","updated_at":"2025-12-25T00:33:44.976041+01:00","dependencies":[{"issue_id":"loc-5fw","depends_on_id":"loc-7vv","type":"blocks","created_at":"2025-12-25T00:34:25.131957+01:00","created_by":"daemon"},{"issue_id":"loc-5fw","depends_on_id":"loc-vs3","type":"blocks","created_at":"2025-12-25T00:48:32.798102+01:00","created_by":"daemon"}]}
{"id":"loc-7vv","title":"Switch CLI parser from clap to argh","description":"Replace clap with argh for CLI argument parsing. argh is lighter-weight and derives from struct definitions similarly but with smaller binary size.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T00:33:51.211849+01:00","updated_at":"2025-12-25T00:42:44.813333+01:00","closed_at":"2025-12-25T00:42:44.813333+01:00","close_reason":"Switched from clap to argh 0.1.13. Simpler derives, lighter dependency."}
{"id":"loc-8go","title":"Add tests for color ID generation","description":"Add unit tests for get_color_for_id and colored_id functions to verify deterministic color assignment and formatting.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T00:47:27.94282+01:00","updated_at":"2025-12-25T00:47:27.94282+01:00","dependencies":[{"issue_id":"loc-8go","depends_on_id":"loc-ehr","type":"blocks","created_at":"2025-12-25T00:47:38.85527+01:00","created_by":"daemon"}]}
{"id":"loc-ehr","title":"Extract request handling logic into testable functions","description":"Refactor request handling code to separate pure logic from axum handler wiring, making it easier to unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T00:47:27.754661+01:00","updated_at":"2025-12-25T00:59:19.071356+01:00","closed_at":"2025-12-25T00:59:19.071356+01:00","close_reason":"Extracted 4 pure functions with 8 unit tests: resolve_static_path, filter_request_headers, filter_response_headers, build_api_url","dependencies":[{"issue_id":"loc-ehr","depends_on_id":"loc-h7t","type":"blocks","created_at":"2025-12-25T00:52:01.217797+01:00","created_by":"daemon"}]}
{"id":"loc-h7t","title":"Split main.rs into smaller modules","description":"Break up the single-file design into separate modules (e.g., handlers, middleware, config, colors) to improve maintainability and testability.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T00:51:55.932981+01:00","updated_at":"2025-12-25T00:55:07.138641+01:00","closed_at":"2025-12-25T00:55:07.138641+01:00","close_reason":"Split main.rs into 5 modules: colors, cli, state, middleware, handlers. Added 2 unit tests for color functions."}
{"id":"loc-ijs","title":"Add integration tests for proxy behavior","description":"Add integration tests for the API proxy including header filtering, query parameter preservation, and error handling.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T00:47:28.333187+01:00","updated_at":"2025-12-25T00:47:28.333187+01:00","dependencies":[{"issue_id":"loc-ijs","depends_on_id":"loc-ehr","type":"blocks","created_at":"2025-12-25T00:47:39.085574+01:00","created_by":"daemon"}]}
{"id":"loc-vs3","title":"Investigate Axum vs Hyper with Tower","description":"Research whether replacing Axum with raw Hyper + Tower would reduce dependencies and binary size while maintaining similar ergonomics.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T00:48:28.674267+01:00","updated_at":"2025-12-25T01:18:45.783779+01:00","closed_at":"2025-12-25T01:18:45.783779+01:00","close_reason":"Investigation complete. Recommendation: Keep Axum.\n\nCURRENT AXUM USAGE:\n- Router with path params/wildcards\n- State/Extension/Path extractors\n- Middleware (from_fn)\n- axum::serve for binding\n- Response builder pattern\n\nFINDINGS:\n- Binary size: 1.9MB (already optimized)\n- Dependencies: 232 crates total\n- Axum is thin layer over Hyper (~25% overhead in microbenchmarks)\n\nSWITCHING TO RAW HYPER+TOWER WOULD REQUIRE:\n- Manual routing (matchit crate or custom)\n- Custom extractor implementations\n- More boilerplate for Tower Service trait\n- Lose ergonomic handler signatures\n\nRECOMMENDATION: Keep Axum\n- Ergonomic benefits outweigh small overhead\n- Already uses Hyper/Tower underneath\n- tower-http middleware compatibility retained\n- Low ROI for significant code complexity increase"}
{"id":"loc-yd3","title":"Add tests for static file path resolution","description":"Add unit tests for static file path resolution logic including index.html fallback and MIME type detection.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T00:47:28.138843+01:00","updated_at":"2025-12-25T00:47:28.138843+01:00","dependencies":[{"issue_id":"loc-yd3","depends_on_id":"loc-ehr","type":"blocks","created_at":"2025-12-25T00:47:38.970917+01:00","created_by":"daemon"}]}
